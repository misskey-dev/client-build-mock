doctype html

html
  head
    meta(charset='utf-8')
    link(rel="icon" type="image/svg+xml" href="/assets/vite.svg")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title.
      Vite + Vue + TS + Fastify

    if Array.isArray(clientEntry.css)
      each href in clientEntry.css
        link(rel='stylesheet' href=`/assets/${href}`)

    script.
      var CLIENT_ENTRY = "#{clientEntry.file}";

    // our real usage
    //script.
    //  import(`/assets/${CLIENT_ENTRY}`)

  body
    div#app

    // vite recommended usage
    script(type="module" src=`/assets/${clientEntry.file}`)

    if process.env.NODE_ENV !== 'production'
      script(src="/assets/@vite/client")